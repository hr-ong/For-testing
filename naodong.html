<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8"/>
		<title>脑洞之王</title>
		<link rel="stylesheet" href="./css/mobilebase.css">
		<link rel="stylesheet" href="./css/naodong.css">
		<!-- 引入jquery -->
		<script src="https://code.jquery.com/jquery-3.1.1.min.js"></script>
		<!-- 引入vue -->
		<script src="./js/vue.js"></script>
		<!-- 引入手机状态栏 -->
		<script src="./js/batteryB.js"></script>
		<!-- 引入header -->
		<script src="./js/header.js"></script>
	</head>
	<body>
		<div id="center">
			<ul id="lists">
				<li class="item" v-for="item in kinds">
					<img :src="item.src" width="100rem" style="margin-right: 1rem;">
					<div style="width: 100%;">
						<section class="title">{{item.title}}</section>
						<section class="text" style="font-size: 1.2rem;">{{item.info}}</section>
						<section class="light r">
							<img class="zan" @click="dian($event)" src="./img/images/点_03.png" alt=""><span>999</span>
						</section>
					</div>
				</li>
			</ul>
			<section id="piao">您今天还有<input id="piaoshu" type="button" value="2">票</section>
			<div id="submitModel" onclick="closeModel()">
				<div class="model-content">
					您得票数不够了，请明天再来
					<button id="close" class="btn" onclick="closeModel()">
					确定</button>
				</div>
			</div>
		</div>
	</body>
	<script>
		const vm = new Vue({
			// el指定作用域，该代码在app盒子中生效
			el:'#center',
			// 变量，假数据
			data:{
				kinds:[
					{
						'src':'./img/naodong/nao_01.jpg',
						'title':'沼泽游泳',
						'info':'在威尔士，每年会举行沼泽游泳大赛。参赛者配备潜水通气管和脚蹼，在沼泽地里游泳。'
					},
					{
						'src':'./img/naodong/nao_02.jpg',
						'title':'魁地奇球赛',
						'info':'了解《哈里·波特》的读者，就会知道魁地奇球赛是什么。参赛球队每队7人，每个人骑着扫帚，然后争取把球投进对方的圈圈里。'
					},
					{
						'src':'./img/naodong/nao_03.jpg',
						'title':'波沙球',
						'info':'兴起于西班牙的一个比赛，糅合了排球、足球、体操和巴西战舞等多项运动。参赛者在一个巨大的气垫上比赛，球网两侧还有蹦床，帮助球员跳得更高来扣球。观赏性绝对满分。'
					},
					{
						'src':'./img/naodong/nao_04.jpg',
						'title':'象棋拳击',
						'info':'古语有云，动若脱兔，静若处子。这项比赛大概就要求人同时做到这两项。顾名思义，象棋拳击，就是要求参赛选手必须有脑有肉，既懂下象棋，又懂拳击。'
					},
					{
						'src':'./img/naodong/nao_01.jpg',
						'title':'沼泽游泳',
						'info':'在威尔士，每年会举行沼泽游泳大赛。参赛者配备潜水通气管和脚蹼，在沼泽地里游泳。'
					},
					{
						'src':'./img/naodong/nao_02.jpg',
						'title':'魁地奇球赛',
						'info':'了解《哈里·波特》的读者，就会知道魁地奇球赛是什么。参赛球队每队7人，每个人骑着扫帚，然后争取把球投进对方的圈圈里。'
					},
					{
						'src':'./img/naodong/nao_03.jpg',
						'title':'波沙球',
						'info':'兴起于西班牙的一个比赛，糅合了排球、足球、体操和巴西战舞等多项运动。参赛者在一个巨大的气垫上比赛，球网两侧还有蹦床，帮助球员跳得更高来扣球。观赏性绝对满分。'
					},
					{
						'src':'./img/naodong/nao_04.jpg',
						'title':'象棋拳击',
						'info':'古语有云，动若脱兔，静若处子。这项比赛大概就要求人同时做到这两项。顾名思义，象棋拳击，就是要求参赛选手必须有脑有肉，既懂下象棋，又懂拳击。'
					}
				]
			},
			// 方法
			methods:{
				dian:function(event) {
					let eve = event.currentTarget,
						piao = Number($('#piaoshu').val()),
						// 属性值
						src = eve.getAttribute('src'),
						// 获取下一个元素
						next = eve.nextElementSibling;
					if (piao === 0) {
						showModel();
					} else {
						if (src === `./img/images/点_03.png`) {
							eve.src = `./img/images/点_09.jpg`;
							next.innerHTML = Number(next.innerHTML) + 1;
							$('#piaoshu').val(piao - 1)
						}
					}
				}
			}
		})
		function showModel() {
			$('#submitModel').show(400);
		}
		function closeModel() {
			$('#submitModel').hide(400);
		}
	</script>
</html>